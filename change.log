#features
script:
    update merchant_port[many]. new merchant registered/added, script will auto allocate merchant_port.
    update trial_port[one]. if there is no trial_port in cake_ports, script will auto allocate trial_port
    update user_port[many].


Revision: 1, ==> new version:
1.add hongbao marketing strategy
2.add related tables. a.cake_coupons, cake_consumes
    ##remove tmp/cache/modes/xxx/myapp_xxxx_server_list
3.changed orginal code to allow cross controller session 
4.

#TODO
Revision xx, ==> fix cake_users uid to id


2015年11月15日 星期日 17时42分05秒 CST
1.add order table, in model order.sql

2016.1.31
1. add merchant related front end pages
2. add table cake_merchants, cake_mtlogins
3. add merchant login[read from db], implement merchant_info page[basic info, history login]


#TODO -> 2016.2.9 all done
1. merchant_info page [change_pass] -> done
2. border_stat [all] -> done
3. release account[all] -> done

#TODO -> 2016.2.10 all done
1. in users controller, allow user register/login with email or telephone as username -> done
2. change all download urls configurable. -> done
3. add debug log in ShangjiaController -> done
4. python script to periodically modify trial_port password -> done
5. if a user buys an account from the delegate, and register/login, 
    automatically retrieve the account for him/her in ucenter  -> done
6. enable user buy/renew port -> done


#TODO -> 2016.2.14
1. optimize page loading speed, remove useless resource links
2. in cake_ports add mtid field to tell users/merchants apart -> done


#newly put online 2016.2.14
# new feature:
#   1. user buy/renew port
#   2. merchant delegate port
#   3. script crontab update port
1. update newest code -> done
2. import tables/fields, set trial_port, crontab init merchant_port -> done
    add a merchant test account
    remove cache files[myapp_xxx_list, persistent/..method..] 
3. open all pages for test -> done

#TODO -> 2016.2.17
1. if an user buy an account and ask to refund, reset the account
2. limit merchant maxmum orders per day

#TODO -> 2016.2.24
1. shangjia ask for telephone/email
2. users find back password

#TODO -> 2016.2.25 -> done
1. fix alipay attack creating orders without offical 
    domain but an ip -> done

#TODO 2016.5.29
done -> 1. add trial port 
done -> 2. script add auto delete/add trail port function
3. user pays an unfinished order while he has already had a using port.
    update alipay return logic block code
done -> 4. iptables upgrade to timely delete blocked ips
done -> 5. auto reset expired port 
    a. first remove port, make the port invalid
    b. after k days, update the invalid port to available
# 2016.6.5
finish page seo 
# 2016.6.8
1. add merchant -> customer advice/answer page
2. mutt can't send non-qq emails
3. develop a tool to see daily statistics
4. add change domain name server resolve script  -> auto change(add/delete) a domain name resolve

#2016.6.30
1. 6.29 history break point: 10 users paid with total day revenue of 30RMB
2. add YTJ admin account:
        A       app/View/Layouts/sucenter.ctp
        A       app/View/Su/sucenter.ctp
        A       app/Controller/SuController.php
        as now we should focus on user experience, admin account 2b added next step

#2016.7.1
1. user fabric to deploy/manage multiple servers
2. prepare 0to1 new server deploy scripts, enable a newly added server run ss service

#2016.7.2
Notice:
    newly deployed server in vultr will be at full netflow when ever you get it started!
    This feature will enable customers to enjoy no netflow limit when using ss service!
        TODO:
            script timely detect if an instance is running out of netflow,
            if out ot netflow:
                1. deploy a new instance which will be at full flow.
                2. change domain resolve to new instance
                3. delete original instance
        Amazing invention!
        REMEMBER:
            restore logs of original instance to a data center instance

# 2016.7.2
 new ucenter version put online NOTICE:
    1. all features fully tested!
    2. newly added db tables, source sql and insert correct data!
    3. enough port added to db tables and ssservers

# 2016.7.3
build a testing env for YTJ web
    ==> use 2t vps as web server to test

# 2016.7.11
add YTJ backup website/databse to avoid accident of aliyun service
for multi domain multi server:
    1. update related ssserver when delete/add port
            a) crontab reset expired port
            b) when use a backup instance to redirect flow in, the ports may not be updated,
                better to restart the ssserver, read ports info from YTJ web host

# 2016.7.12
company create a bank account ==> in progress
