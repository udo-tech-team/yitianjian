#features
script:
    update merchant_port[many]. new merchant registered/added, script will auto allocate merchant_port.
    update trial_port[one]. if there is no trial_port in cake_ports, script will auto allocate trial_port
    update user_port[many].


Revision: 1, ==> new version:
1.add hongbao marketing strategy
2.add related tables. a.cake_coupons, cake_consumes
    ##remove tmp/cache/modes/xxx/myapp_xxxx_server_list
3.changed orginal code to allow cross controller session 
4.

#TODO
Revision xx, ==> fix cake_users uid to id


2015年11月15日 星期日 17时42分05秒 CST
1.add order table, in model order.sql

2016.1.31
1. add merchant related front end pages
2. add table cake_merchants, cake_mtlogins
3. add merchant login[read from db], implement merchant_info page[basic info, history login]


#TODO -> 2016.2.9 all done
1. merchant_info page [change_pass] -> done
2. border_stat [all] -> done
3. release account[all] -> done

#TODO -> 2016.2.10 all done
1. in users controller, allow user register/login with email or telephone as username -> done
2. change all download urls configurable. -> done
3. add debug log in ShangjiaController -> done
4. python script to periodically modify trial_port password -> done
5. if a user buys an account from the delegate, and register/login, 
    automatically retrieve the account for him/her in ucenter  -> done
6. enable user buy/renew port -> done


#TODO -> 2016.2.14
1. optimize page loading speed, remove useless resource links
2. in cake_ports add mtid field to tell users/merchants apart -> done


#newly put online 2016.2.14
# new feature:
#   1. user buy/renew port
#   2. merchant delegate port
#   3. script crontab update port
1. update newest code -> done
2. import tables/fields, set trial_port, crontab init merchant_port -> done
    add a merchant test account
    remove cache files[myapp_xxx_list, persistent/..method..] 
3. open all pages for test -> done

#TODO -> 2016.2.17
1. if an user buy an account and ask to refund, reset the account
2. limit merchant maxmum orders per day

#TODO -> 2016.2.24
1. shangjia ask for telephone/email
2. users find back password

#TODO -> 2016.2.25 -> done
1. fix alipay attack creating orders without offical 
    domain but an ip -> done

#TODO 2016.5.29
done -> 1. add trial port 
2. script add auto delete/add trail port function
3. user pays an unfinished order while he has already had a using port.
    update alipay return logic block code
done -> 4. iptables upgrade to timely delete blocked ips
done -> 5. auto reset expired port 
    a. first remove port, make the port invalid
    b. after k days, update the invalid port to available
# 2016.6.5
finish page seo 
